(function(c,a,g){var d="Parallax";var f=30;var b={calibrationThreshold:100,calibrationDelay:500,supportDelay:500,calibrateX:false,calibrateY:true,invertX:true,invertY:true,limitX:false,limitY:false,scalarX:10,scalarY:10,frictionX:0.1,frictionY:0.1};function e(j,h){this.element=j;this.layers=j.getElementsByClassName("layer");var k={calibrateX:this.data(this.element,"calibrate-x"),calibrateY:this.data(this.element,"calibrate-y"),invertX:this.data(this.element,"invert-x"),invertY:this.data(this.element,"invert-y"),limitX:this.data(this.element,"limit-x"),limitY:this.data(this.element,"limit-y"),scalarX:this.data(this.element,"scalar-x"),scalarY:this.data(this.element,"scalar-y"),frictionX:this.data(this.element,"friction-x"),frictionY:this.data(this.element,"friction-y")};for(var i in k){if(k[i]===null){delete k[i]}}this.extend(this,b,h,k);this.calibrationTimer=null;this.calibrationFlag=true;this.enabled=false;this.depths=[];this.raf=null;this.ox=0;this.oy=0;this.ow=0;this.oh=0;this.cx=0;this.cy=0;this.ix=0;this.iy=0;this.mx=0;this.my=0;this.vx=0;this.vy=0;this.onMouseMove=this.onMouseMove.bind(this);this.onDeviceOrientation=this.onDeviceOrientation.bind(this);this.onOrientationTimer=this.onOrientationTimer.bind(this);this.onCalibrationTimer=this.onCalibrationTimer.bind(this);this.onAnimationFrame=this.onAnimationFrame.bind(this);this.onWindowResize=this.onWindowResize.bind(this);this.initialise()}e.prototype.extend=function(){if(arguments.length>1){var n=arguments[0];for(var m=1,h=arguments.length;m<h;m++){var j=arguments[m];for(var k in j){n[k]=j[k]}}}};e.prototype.data=function(i,h){return this.deserialize(i.getAttribute("data-"+h))};e.prototype.deserialize=function(h){if(h==="true"){return true}else{if(h==="false"){return false}else{if(h==="null"){return null}else{if(!isNaN(parseFloat(h))&&isFinite(h)){return parseFloat(h)}else{return h}}}}};e.prototype.offset=function(i){var h=0,l=0,k,j;while(i&&!isNaN(i.offsetLeft)&&!isNaN(i.offsetTop)){if(i===a.body){k=a.documentElement.scrollLeft;j=a.documentElement.scrollTop}else{k=i.scrollLeft;j=i.scrollTop}h+=i.offsetLeft-k;l+=i.offsetTop-j;i=i.offsetParent}return{top:l,left:h}};e.prototype.camelCase=function(h){return h.replace(/-+(.)?/g,function(i,j){return j?j.toUpperCase():""})};e.prototype.transformSupport=function(r){var m=a.createElement("div");var p=false;var k=null;var o=false;var q=null;var h=null;for(var n=0,j=this.vendors.length;n<j;n++){if(this.vendors[n]!==null){q=this.vendors[n][0]+"transform";h=this.vendors[n][1]+"Transform"}else{q="transform";h="transform"}if(m.style[h]!==g){p=true;break}}switch(r){case"2D":o=p;break;case"3D":if(p){a.body.appendChild(m);m.style[h]="translate3d(1px,1px,1px)";k=c.getComputedStyle(m).getPropertyValue(q);o=k!==g&&k.length>0&&k!=="none";a.body.removeChild(m)}break}return o};e.prototype.ww=null;e.prototype.wh=null;e.prototype.hw=null;e.prototype.hh=null;e.prototype.portrait=null;e.prototype.desktop=!navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|BB10|mobi|tablet|opera mini|nexus 7)/i);e.prototype.vendors=[null,["-webkit-","webkit"],["-moz-","Moz"],["-o-","O"],["-ms-","ms"]];e.prototype.motionSupport=!!c.DeviceMotionEvent;e.prototype.orientationSupport=!!c.DeviceOrientationEvent;e.prototype.orientationStatus=0;e.prototype.transform2DSupport=e.prototype.transformSupport("2D");e.prototype.transform3DSupport=e.prototype.transformSupport("3D");e.prototype.initialise=function(){if(this.transform3DSupport){this.accelerate(this.element)}var m=c.getComputedStyle(this.element);if(m.getPropertyValue("position")==="static"){this.element.style.position="relative"}for(var k=0,h=this.layers.length;k<h;k++){var j=this.layers[k];if(this.transform3DSupport){this.accelerate(j)}j.style.position=k?"absolute":"relative";j.style.display="block";j.style.height="100%";j.style.width="100%";j.style.left=0;j.style.top=0;this.depths.push(this.data(j,"depth")||0)}this.updateDimensions();this.enable();this.queueCalibration(this.calibrationDelay)};e.prototype.updateDimensions=function(){this.ox=this.offset(this.element).left;this.oy=this.offset(this.element).top;this.ow=this.element.offsetWidth;this.oh=this.element.offsetHeight;this.ww=c.innerWidth;this.wh=c.innerHeight;this.hw=this.ww/2;this.hh=this.wh/2};e.prototype.queueCalibration=function(h){clearTimeout(this.calibrationTimer);this.calibrationTimer=setTimeout(this.onCalibrationTimer,h)};e.prototype.enable=function(){if(!this.enabled){this.enabled=true;if(this.orientationSupport){this.portrait=null;c.addEventListener("deviceorientation",this.onDeviceOrientation);setTimeout(this.onOrientationTimer,this.supportDelay)}else{this.cx=0;this.cy=0;this.portrait=false;c.addEventListener("mousemove",this.onMouseMove)}c.addEventListener("resize",this.onWindowResize);this.raf=requestAnimationFrame(this.onAnimationFrame)}};e.prototype.disable=function(){if(this.enabled){this.enabled=false;if(this.orientationSupport){c.removeEventListener("deviceorientation",this.onDeviceOrientation)}else{c.removeEventListener("mousemove",this.onMouseMove)}c.removeEventListener("resize",this.onWindowResize);cancelAnimationFrame(this.raf)}};e.prototype.calibrate=function(h,i){this.calibrateX=h===g?this.calibrateX:h;this.calibrateY=i===g?this.calibrateY:i};e.prototype.invert=function(h,i){this.invertX=h===g?this.invertX:h;this.invertY=i===g?this.invertY:i};e.prototype.friction=function(h,i){this.frictionX=h===g?this.frictionX:h;this.frictionY=i===g?this.frictionY:i};e.prototype.scalar=function(h,i){this.scalarX=h===g?this.scalarX:h;this.scalarY=i===g?this.scalarY:i};e.prototype.limit=function(h,i){this.limitX=h===g?this.limitX:h;this.limitY=i===g?this.limitY:i};e.prototype.clamp=function(j,i,h){j=Math.max(j,i);j=Math.min(j,h);return j};e.prototype.css=function(k,o,n){var m=null;for(var j=0,h=this.vendors.length;j<h;j++){if(this.vendors[j]!==null){m=this.camelCase(this.vendors[j][1]+"-"+o)}else{m=o}if(k.style[m]!==g){k.style[m]=n;break}}};e.prototype.accelerate=function(h){this.css(h,"transform","translate3d(0,0,0)");this.css(h,"backface-visibility","hidden")};e.prototype.setPosition=function(i,h,j){h+="%";j+="%";if(this.transform3DSupport){this.css(i,"transform","translate3d("+h+","+j+",0)")}else{if(this.transform2DSupport){this.css(i,"transform","translate("+h+","+j+")")}else{i.style.left=h;i.style.top=j}}};e.prototype.onOrientationTimer=function(h){if(this.orientationSupport&&this.orientationStatus===0){this.disable();this.orientationSupport=false;this.enable()}};e.prototype.onCalibrationTimer=function(h){this.calibrationFlag=true};e.prototype.onWindowResize=function(h){this.updateDimensions()};e.prototype.onAnimationFrame=function(){var k=this.ix-this.cx;var j=this.iy-this.cy;if((Math.abs(k)>this.calibrationThreshold)||(Math.abs(j)>this.calibrationThreshold)){this.queueCalibration(0)}if(this.portrait){this.mx=(this.calibrateX?j:this.iy)*this.scalarX;this.my=(this.calibrateY?k:this.ix)*this.scalarY}else{this.mx=(this.calibrateX?k:this.ix)*this.scalarX;this.my=(this.calibrateY?j:this.iy)*this.scalarY}if(!isNaN(parseFloat(this.limitX))){this.mx=this.clamp(this.mx,-this.limitX,this.limitX)}if(!isNaN(parseFloat(this.limitY))){this.my=this.clamp(this.my,-this.limitY,this.limitY)}this.vx+=(this.mx-this.vx)*this.frictionX;this.vy+=(this.my-this.vy)*this.frictionY;for(var n=0,h=this.layers.length;n<h;n++){var m=this.layers[n];var q=this.depths[n];var o=this.vx*q*(this.invertX?-1:1);var p=this.vy*q*(this.invertY?-1:1);this.setPosition(m,o,p)}this.raf=requestAnimationFrame(this.onAnimationFrame)};e.prototype.onDeviceOrientation=function(i){if(!this.desktop&&i.beta!==null&&i.gamma!==null){this.orientationStatus=1;var h=(i.beta||0)/f;var k=(i.gamma||0)/f;var j=this.wh>this.ww;if(this.portrait!==j){this.portrait=j;this.calibrationFlag=true}if(this.calibrationFlag){this.calibrationFlag=false;this.cx=h;this.cy=k}this.ix=h;this.iy=k}};e.prototype.onMouseMove=function(h){this.ix=(h.pageX-this.hw)/this.hw;this.iy=(h.pageY-this.hh)/this.hh};c[d]=e})(window,document);(function(){var b=0;var c=["ms","moz","webkit","o"];for(var a=0;a<c.length&&!window.requestAnimationFrame;++a){window.requestAnimationFrame=window[c[a]+"RequestAnimationFrame"];window.cancelAnimationFrame=window[c[a]+"CancelAnimationFrame"]||window[c[a]+"CancelRequestAnimationFrame"]}if(!window.requestAnimationFrame){window.requestAnimationFrame=function(h,e){var d=new Date().getTime();var f=Math.max(0,16-(d-b));var g=window.setTimeout(function(){h(d+f)},f);b=d+f;return g}}if(!window.cancelAnimationFrame){window.cancelAnimationFrame=function(d){clearTimeout(d)}}}());